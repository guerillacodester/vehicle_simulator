# =============================================================================
# ArkNet Fleet System - Root Configuration
# =============================================================================
# Single source of truth for infrastructure and launcher settings
# Business data (routes, depots, vehicles) lives in Strapi database
#
# DEPENDENCY ARCHITECTURE:
# - All subsystems depend on Strapi (database/API)
# - Vehicle Simulator → Strapi + GPSCentCom
# - Commuter Simulator → Strapi + Geospatial + Manifest
# - Manifest API → Strapi
# - GPSCentCom → Independent (no dependencies)
# - Geospatial → Independent (no dependencies)
#
# NOTE: Dependency health checks are planned but not yet implemented.
#       Start services in correct order: Strapi → Services → Simulators

[launcher]
# Which subsystems to start with start_all_systems.py
# Note: Each subsystem checks its own dependencies at runtime
enable_gpscentcom = true
enable_geospatial = true
enable_manifest = true
enable_vehicle_simulator = false
enable_commuter_simulator = false

# Startup timing configuration
monitor_port = 8000
strapi_startup_wait = 15
gpscentcom_startup_wait = 10
simulator_delay = 5
service_startup_wait = 8

[infrastructure]
# Service discovery - where to find each service
# All subsystems read these values to connect to dependencies
strapi_url = http://localhost:1337
strapi_port = 1337
gpscentcom_port = 5000
geospatial_port = 6000
manifest_port = 4000

[gpscentcom]
# GPS server runtime settings (non-business)
auth_token = supersecrettoken
stale_after_sec = 120
cors_origins = http://localhost:3000,http://127.0.0.1:3000
log_packets = false

[geospatial]
# Geospatial service settings
cache_enabled = true
cache_ttl_seconds = 3600

[logging]
# Global logging defaults (can be overridden per subsystem)
level = INFO
format = %(asctime)s - %(name)s - %(levelname)s - %(message)s
